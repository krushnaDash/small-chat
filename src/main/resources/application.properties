# Server Configuration
server.port=8080
spring.application.name=SmallChat

# Message Retention Configuration (configurable)
smallchat.message.retention.days=3

# Actuator Configuration
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always

# Logging Configuration
logging.level.com.krushna.smallchat=INFO
logging.level.org.springframework.web.socket=DEBUG
logging.level.com.azure=ERROR

# WebSocket Configuration
spring.websocket.sockjs.heartbeat-time=25000
spring.websocket.sockjs.disconnect-delay=5000

# Static resources
spring.web.resources.static-locations=classpath:/static/
spring.web.resources.cache.period=3600

# Authentication
# Reads password from environment variable APP_PASSWORD (empty by default)
app.password=${APP_PASSWORD:test}
# Optional: session timeout
# server.servlet.session.timeout=8h

# Multipart upload limits (allow larger media uploads)
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=25MB
spring.servlet.multipart.max-request-size=25MB
# Tomcat limits (avoid swallowing large requests and premature aborts)
server.tomcat.max-http-form-post-size=25MB
server.tomcat.max-swallow-size=-1

# Azure Table Storage (persistence)
# Provide via env var AZURE_TABLE_CONNECTION_STRING in Azure App Settings
smallchat.azure.table.connection-string=${AZURE_TABLE_CONNECTION_STRING}
smallchat.azure.table.name=SmallChatMessages
smallchat.azure.table.partition=default
